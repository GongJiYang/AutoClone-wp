"""
Prompt æ¨¡æ¿ç®¡ç†
æ•´åˆè§†è§‰åˆ†æå’ŒWordPressä»£ç ç”Ÿæˆçš„æç¤ºè¯
"""

# WordPress æ¨¡å—ç±»å‹æ˜ å°„
MODULE_TYPES = {
    "header": "é¡µé¢å¤´éƒ¨å¯¼èˆª",
    "hero": "ä¸»è§†è§‰æ¨ªå¹…åŒºåŸŸ",
    "hero-carousel": "è½®æ’­å›¾æ¨ªå¹…",
    "features": "ç‰¹è‰²/ä¼˜åŠ¿å±•ç¤º",
    "features-service": "æœåŠ¡ç‰¹è‰²",
    "product-grid": "äº§å“ç½‘æ ¼å±•ç¤º",
    "product-carousel": "äº§å“è½®æ’­",
    "why-choose": "ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬",
    "project-cases": "é¡¹ç›®æ¡ˆä¾‹",
    "testimonials": "å®¢æˆ·è¯„ä»·",
    "cta": "è¡ŒåŠ¨å·å¬åŒºåŸŸ",
    "contact-form": "è”ç³»è¡¨å•",
    "footer": "é¡µé¢åº•éƒ¨",
    "content-block": "å†…å®¹å—",
    "image-text": "å›¾æ–‡æ··æ’",
    "gallery": "å›¾ç‰‡ç”»å»Š",
    "faq": "å¸¸è§é—®é¢˜",
    "stats": "æ•°æ®ç»Ÿè®¡",
    "team": "å›¢é˜Ÿå±•ç¤º",
    "pricing": "ä»·æ ¼è¡¨",
    "timeline": "æ—¶é—´çº¿",
    "logo-cloud": "åˆä½œä¼™ä¼´Logo",
}

# è§†è§‰æ¨¡å‹åˆ†æ Promptï¼ˆç”¨äºåˆ†å—æˆªå›¾åˆ†æï¼‰
VISION_ANALYZE_PROMPT = """ä½ æ˜¯ä¸“ä¸šçš„WordPressä¸»é¢˜å¼€å‘ä¸“å®¶å’ŒUIåˆ†æå¸ˆã€‚è¯·**ç²¾ç¡®**åˆ†æè¿™ä¸ªç½‘é¡µæˆªå›¾åˆ†å—ã€‚

è¿™æ˜¯{position}ã€‚{dom_hint}

## ä¸Šä¸‹æ–‡ç†è§£ï¼ˆé‡è¦ï¼‰

å¦‚æœæä¾›äº†ä¸Šæ–¹æˆ–ä¸‹æ–¹çš„æˆªå›¾ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œè¯·ï¼š
1. **ç†è§£æ•´ä½“è¿è´¯æ€§**ï¼šå½“å‰æˆªå›¾å¯èƒ½æ˜¯æŸä¸ªæ¨¡å—çš„å»¶ç»­æˆ–å¼€å§‹
2. **è¯†åˆ«é‡å å†…å®¹**ï¼šä¸Šä¸‹æˆªå›¾å¯èƒ½æœ‰é‡å åŒºåŸŸï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼ˆç”¨äºç¡®ä¿å®Œæ•´è¦†ç›–ï¼‰
3. **æ¨¡å—è¾¹ç•Œåˆ¤æ–­**ï¼šç»“åˆä¸Šä¸‹æ–‡åˆ¤æ–­æ¨¡å—çš„èµ·å§‹å’Œç»“æŸä½ç½®
4. **å†…å®¹å…³è”æ€§**ï¼šå¦‚æœå½“å‰æˆªå›¾çš„å†…å®¹ä¸ä¸Šä¸‹æˆªå›¾æœ‰é€»è¾‘å…³è”ï¼Œè¯·åœ¨åˆ†æä¸­è¯´æ˜

## åˆ†æè¦æ±‚ï¼ˆè¯·åŠ¡å¿…ç²¾ç¡®ï¼‰

1. **ç²¾ç¡®è®¡æ•°**ï¼šå‡†ç¡®æ•°å‡ºæ¯ç§å…ƒç´ çš„æ•°é‡ï¼ˆå¡ç‰‡ã€å›¾ç‰‡ã€æŒ‰é’®ç­‰ï¼‰
2. **ç²¾ç¡®æµ‹é‡**ï¼šä¼°ç®—å…·ä½“çš„åƒç´ å€¼ï¼ˆä¸è¦ç”¨"å¤§çº¦"ï¼Œç»™å‡ºå…·ä½“æ•°å­—ï¼‰
3. **é¢œè‰²æå–**ï¼šä½¿ç”¨å…·ä½“çš„hexé¢œè‰²å€¼
4. **å¸ƒå±€åˆ†æ**ï¼šæ˜ç¡®åˆ—æ•°ã€è¡Œæ•°ã€é—´è·
5. **å†…å®¹æå–**ï¼šè¯†åˆ«å¹¶æå–æˆªå›¾ä¸­çš„æ–‡å­—å†…å®¹ï¼ˆæ ‡é¢˜ã€æ®µè½ã€æŒ‰é’®æ–‡å­—ç­‰ï¼‰

## å·²çŸ¥æ¨¡å—ç±»å‹å‚è€ƒ
{module_types_hint}

## è¾“å‡ºæ ¼å¼ï¼ˆä»…JSONï¼Œå¿…é¡»ç²¾ç¡®ï¼‰

{{
    "module_type": "æ¨¡å—ç±»å‹ï¼ˆå¦‚hero/product-grid/featuresç­‰ï¼‰",
    "module_name_suggestion": "å»ºè®®çš„æ¨¡å—æ–‡ä»¶åï¼ˆå¦‚kitchen-cabinets-heroï¼‰",
    "is_common_module": true/false,
    "layout": {{
        "container": "full-width/container-1200/container-1400",
        "type": "grid/flex/block",
        "columns": å…·ä½“æ•°å­—å¦‚3,
        "rows": å…·ä½“æ•°å­—å¦‚2,
        "gap_horizontal": "å…·ä½“åƒç´ å€¼å¦‚20px",
        "gap_vertical": "å…·ä½“åƒç´ å€¼å¦‚30px",
        "alignment": "left/center/right/space-between",
        "direction": "row/column"
    }},
    "colors": {{
        "background": "#å…·ä½“hexå¦‚#ffffff",
        "primary": "#å…·ä½“hexï¼ˆå¦‚æŒ‰é’®é¢œè‰²#FF8C00ï¼‰",
        "secondary": "#å…·ä½“hex",
        "heading": "#å…·ä½“hex",
        "text": "#å…·ä½“hex",
        "border": "#å…·ä½“hexæˆ–none"
    }},
    "typography": {{
        "heading_size": "å…·ä½“åƒç´ å€¼å¦‚36px",
        "heading_weight": "å…·ä½“æ•°å€¼å¦‚700",
        "body_size": "å…·ä½“åƒç´ å€¼å¦‚16px",
        "body_weight": "å…·ä½“æ•°å€¼å¦‚400",
        "line_height": "å…·ä½“æ•°å€¼å¦‚1.6"
    }},
    "spacing": {{
        "padding_top": "å…·ä½“åƒç´ å€¼å¦‚80px",
        "padding_bottom": "å…·ä½“åƒç´ å€¼å¦‚80px",
        "padding_left": "å…·ä½“åƒç´ å€¼å¦‚15px",
        "padding_right": "å…·ä½“åƒç´ å€¼å¦‚15px",
        "element_margin": "å…ƒç´ é—´è·å¦‚30px",
        "card_padding": "å¡ç‰‡å†…è¾¹è·å¦‚20px"
    }},
    "components": [
        {{
            "type": "navbar/logo/button/card/image/text/form/icon/badge/divider",
            "count": ç²¾ç¡®æ•°é‡å¦‚10,
            "width": "å…·ä½“å°ºå¯¸å¦‚200pxæˆ–auto",
            "height": "å…·ä½“å°ºå¯¸å¦‚150pxæˆ–auto",
            "border_radius": "åœ†è§’å€¼å¦‚8pxæˆ–0",
            "has_shadow": true/false,
            "has_border": true/false,
            "details": "å…·ä½“æè¿°ï¼ˆå¦‚ï¼šç™½è‰²å¡ç‰‡ï¼Œå¸¦é˜´å½±ï¼Œæ˜¾ç¤ºäº§å“å›¾ç‰‡å’Œæ ‡é¢˜ï¼‰"
        }}
    ],
    "images": [
        {{
            "type": "hero-banner/product/thumbnail/avatar/icon/background/gallery",
            "count": ç²¾ç¡®æ•°é‡,
            "width": "å…·ä½“åƒç´ æˆ–ç™¾åˆ†æ¯”å¦‚300pxæˆ–100%",
            "height": "å…·ä½“åƒç´ æˆ–autoå¦‚200px",
            "aspect_ratio": "å®½é«˜æ¯”å¦‚16:9/4:3/1:1/auto",
            "position": "ä½ç½®æè¿°å¦‚å·¦ä¾§/å±…ä¸­/ç½‘æ ¼æ’åˆ—",
            "object_fit": "cover/contain/fill",
            "has_overlay": true/false,
            "overlay_color": "#rgbaå¦‚rgba(0,0,0,0.5)æˆ–none",
            "placeholder_suggestion": "å ä½ç¬¦å»ºè®®å¦‚gray-bg/gradient/svg-icon"
        }}
    ],
    "extracted_content": {{
        "main_title": "æˆªå›¾ä¸­çš„ä¸»æ ‡é¢˜æ–‡å­—ï¼ˆå¦‚æœ‰ï¼‰",
        "subtitle": "å‰¯æ ‡é¢˜æ–‡å­—ï¼ˆå¦‚æœ‰ï¼‰",
        "paragraphs": ["æ®µè½1å†…å®¹...", "æ®µè½2å†…å®¹..."],
        "button_texts": ["æŒ‰é’®æ–‡å­—1", "æŒ‰é’®æ–‡å­—2"],
        "list_items": [
            {{"title": "åˆ—è¡¨é¡¹æ ‡é¢˜", "description": "åˆ—è¡¨é¡¹æè¿°"}},
        ],
        "card_contents": [
            {{"title": "å¡ç‰‡æ ‡é¢˜", "description": "å¡ç‰‡æè¿°", "link_text": "é“¾æ¥æ–‡å­—"}}
        ]
    }},
    "responsive_hints": "å“åº”å¼å»ºè®®ï¼ˆå¦‚ï¼šå¹³æ¿2åˆ—ï¼Œç§»åŠ¨ç«¯1åˆ—ï¼‰",
    "content_summary": "è¯¥åŒºåŸŸä¸»è¦å±•ç¤ºä»€ä¹ˆå†…å®¹",
    "special_effects": "ç‰¹æ®Šæ•ˆæœï¼ˆå¦‚ï¼šhoverå˜è‰²ã€æ¸å˜èƒŒæ™¯ã€åŠ¨ç”»ç­‰ï¼‰"
}}

**é‡è¦**ï¼š
- æ•°é‡å¿…é¡»ç²¾ç¡®ï¼ˆå¦‚å¡ç‰‡10ä¸ªï¼Œä¸æ˜¯"å¤šä¸ª"ï¼‰
- åƒç´ å€¼å¿…é¡»å…·ä½“ï¼ˆå¦‚24pxï¼Œä¸æ˜¯"è¾ƒå¤§"ï¼‰
- é¢œè‰²å¿…é¡»æ˜¯hexå€¼ï¼ˆå¦‚#333333ï¼Œä¸æ˜¯"æ·±ç°"ï¼‰
- å¿…é¡»æå–æˆªå›¾ä¸­å¯è§çš„æ–‡å­—å†…å®¹ç”¨äºé»˜è®¤æ•°æ®

åªè¾“å‡ºJSONï¼Œä¸è¦å…¶ä»–å†…å®¹ã€‚"""


# ç”Ÿæˆç»™Cursorçš„å®Œæ•´Promptæ¨¡æ¿
CURSOR_PROMPT_TEMPLATE = """# WordPress é¡µé¢å…‹éš†ä»»åŠ¡

## åŸå§‹é¡µé¢ä¿¡æ¯
- URL: {url}
- æ ‡é¢˜: {title}
- æ€»é«˜åº¦: {total_height}px

## ä»£ç è§„èŒƒ

### PHPæ¨¡å—ç»“æ„
- æ–‡ä»¶ä½ç½®ï¼š`modules/{{module-name}}.php`
- ä½¿ç”¨ `.elementor-container` ä½œä¸ºå®¹å™¨ï¼ˆæœ€å¤§å®½åº¦1200pxï¼‰
- æ¨¡å—æœ€å¤–å±‚ç±»åï¼š`{{module-name}}-module`
- ä½¿ç”¨ `esc_html()` å’Œ `esc_url()` è¿›è¡Œè¾“å‡ºè½¬ä¹‰
- ä½¿ç”¨ `get_svg_placeholder()` å‡½æ•°å¤„ç†å›¾ç‰‡å ä½ç¬¦

### CSSæ ·å¼ç»“æ„
- æ–‡ä»¶ä½ç½®ï¼š`assets/css/modules/{{module-name}}.css`
- ä½¿ç”¨æ¨¡å—åŒ–çš„ç±»åï¼ˆé¿å…å…¨å±€å†²çªï¼‰
- å¿…é¡»åŒ…å«å“åº”å¼è®¾è®¡ï¼š
  - æ¡Œé¢ï¼šé»˜è®¤ï¼ˆ>1024pxï¼‰
  - å¹³æ¿ï¼š`@media (max-width: 1024px)`
  - ç§»åŠ¨ï¼š`@media (max-width: 768px)`
  - å°å±ï¼š`@media (max-width: 480px)`

### è®¾è®¡ç³»ç»Ÿ
- å­—ä½“ï¼š`-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif`
- ä¸»è‰²è°ƒï¼š`#FF8C00` / `#FF7A00`ï¼ˆæ©™è‰²ï¼‰
- æ–‡å­—é¢œè‰²ï¼šæ ‡é¢˜ `#333`ï¼Œæ­£æ–‡ `#666`
- å®¹å™¨å†…è¾¹è·ï¼š`padding: 0 15px`
- æ¨¡å—é—´è·ï¼šé€šå¸¸ `padding: 80px 0`ï¼ˆç§»åŠ¨ç«¯å‡å°‘ä¸º40pxï¼‰

### âš ï¸ é»˜è®¤æ•°æ®è§„èŒƒï¼ˆé‡è¦ï¼‰

**æ¯ä¸ªæ¨¡å—å¿…é¡»æä¾›æœ‰æ„ä¹‰çš„é»˜è®¤ç¤ºä¾‹æ•°æ®**ï¼Œç¡®ä¿é¡µé¢åœ¨æ²¡æœ‰ä¼ å…¥å‚æ•°æ—¶ä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤ºï¼š

```php
// âŒ é”™è¯¯å†™æ³• - ç©ºé»˜è®¤å€¼ï¼ˆé¡µé¢ä¼šæ˜¾ç¤ºç©ºç™½ï¼‰
$title = isset($module_args['title']) ? $module_args['title'] : '';
$content = isset($module_args['content']) ? $module_args['content'] : '';

// âœ… æ­£ç¡®å†™æ³• - æä¾›æœ‰æ„ä¹‰çš„é»˜è®¤æ•°æ®
$title = isset($module_args['title']) ? $module_args['title'] : 'Best Patio Floor Tiles for Your Outdoor Space';
$content = isset($module_args['content']) ? $module_args['content'] : '<p>Transform your patio with our selection of premium floor tiles. From natural stone to modern porcelain, find the perfect option for your outdoor living area.</p>';
```

**é»˜è®¤æ•°æ®è¦æ±‚ï¼š**
1. **æ ‡é¢˜**ï¼šå¿…é¡»æœ‰é»˜è®¤å€¼ï¼Œä½¿ç”¨ä»æˆªå›¾ä¸­æå–çš„å®é™…æ ‡é¢˜æˆ–åˆç†çš„å ä½æ–‡æœ¬
2. **æ­£æ–‡å†…å®¹**ï¼šå¿…é¡»æœ‰é»˜è®¤å€¼ï¼Œè‡³å°‘2-3å¥æè¿°æ€§æ–‡å­—
3. **åˆ—è¡¨ç±»æ•°æ®**ï¼šå¿…é¡»æä¾›2-3ä¸ªé»˜è®¤é¡¹ç›®ï¼Œæ¯é¡¹åŒ…å«æ ‡é¢˜å’Œæè¿°
4. **æŒ‰é’®æ–‡å­—**ï¼šä½¿ç”¨å®é™…çš„CTAæ–‡æ¡ˆå¦‚"View Products"ã€"Learn More"
5. **å›¾ç‰‡Alt**ï¼šæä¾›æœ‰æ„ä¹‰çš„æè¿°æ€§altæ–‡æœ¬

### å›¾ç‰‡å ä½ç¬¦è§„èŒƒ
ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å¤„ç†å›¾ç‰‡å ä½ç¬¦ï¼š

```php
// æ–¹å¼1ï¼šä½¿ç”¨WordPresså ä½ç¬¦å‡½æ•°
<?php echo get_svg_placeholder($width, $height, $text); ?>

// æ–¹å¼2ï¼šä½¿ç”¨CSSèƒŒæ™¯è‰²å ä½
<div class="image-placeholder" style="aspect-ratio: 16/9; background: #e0e0e0;"></div>

// æ–¹å¼3ï¼šä½¿ç”¨placehold.coï¼ˆæ¨èï¼‰
<img src="https://placehold.co/600x400/e0e0e0/666?text=Product" alt="äº§å“å›¾ç‰‡">
```

å›¾ç‰‡å ä½ç¬¦CSSç¤ºä¾‹ï¼š
```css
.image-placeholder {{
    background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #999;
    font-size: 14px;
}}
```

## é¡µé¢ç»“æ„åˆ†æ

{sections_analysis}

## è®¾è®¡å‚æ•°æ±‡æ€»

{design_tokens}

## ä»»åŠ¡è¦æ±‚

è¯·æ ¹æ®ä¸Šè¿°åˆ†æå’Œæˆªå›¾ï¼Œä¸ºæ¯ä¸ªæ¨¡å—ç”Ÿæˆï¼š

1. **PHPæ–‡ä»¶** (`modules/{{module-name}}.php`)
2. **CSSæ–‡ä»¶** (`assets/css/modules/{{module-name}}.css`)
3. **æ¨¡å—å‚æ•°** (`$args` æ•°ç»„ç»“æ„)

### PHPä»£ç æ¨¡æ¿ï¼ˆåŒ…å«é»˜è®¤æ•°æ®ç¤ºä¾‹ï¼‰

```php
<?php
if (!defined('ABSPATH')) {{
    exit;
}}

$module_args = isset($args) ? $args : array();

// ========== é»˜è®¤æ•°æ®ï¼ˆå¿…é¡»æä¾›æœ‰æ„ä¹‰çš„å†…å®¹ï¼‰==========
$default_title = 'Module Title from Screenshot';
$default_content = '<p>This is meaningful default content extracted from the original page screenshot. It should describe what this section is about and provide value even without custom data.</p>';
$default_items = array(
    array(
        'title' => 'Feature One',
        'description' => 'Description of the first feature with details about its benefits.',
        'icon' => 'icon-class-1'
    ),
    array(
        'title' => 'Feature Two', 
        'description' => 'Description of the second feature highlighting key advantages.',
        'icon' => 'icon-class-2'
    ),
    array(
        'title' => 'Feature Three',
        'description' => 'Description of the third feature explaining its value proposition.',
        'icon' => 'icon-class-3'
    )
);

// ========== è·å–å‚æ•°ï¼ˆå¸¦é»˜è®¤å€¼ï¼‰==========
$title = isset($module_args['title']) ? $module_args['title'] : $default_title;
$content = isset($module_args['content']) ? $module_args['content'] : $default_content;
$items = !empty($module_args['items']) ? $module_args['items'] : $default_items;
$button_text = isset($module_args['button_text']) ? $module_args['button_text'] : 'Learn More';
$button_url = isset($module_args['button_url']) ? $module_args['button_url'] : '#';
?>

<div class="{{module-name}}-module">
    <div class="elementor-container">
        <h2 class="module-title"><?php echo esc_html($title); ?></h2>
        <div class="module-content"><?php echo wp_kses_post($content); ?></div>
        
        <?php if (!empty($items)) : ?>
        <div class="module-items">
            <?php foreach ($items as $item) : ?>
            <div class="module-item">
                <h3><?php echo esc_html($item['title']); ?></h3>
                <p><?php echo esc_html($item['description']); ?></p>
            </div>
            <?php endforeach; ?>
        </div>
        <?php endif; ?>
        
        <a href="<?php echo esc_url($button_url); ?>" class="module-button">
            <?php echo esc_html($button_text); ?>
        </a>
    </div>
</div>
```

### CSSä»£ç æ¨¡æ¿

```css
.{{module-name}}-module {{
    padding: 80px 0;
    background-color: #fff;
}}

.{{module-name}}-module .elementor-container {{
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
}}

.{{module-name}}-module .module-title {{
    font-size: 36px;
    font-weight: 700;
    color: #333;
    margin-bottom: 20px;
}}

.{{module-name}}-module .module-content {{
    font-size: 16px;
    line-height: 1.6;
    color: #666;
    margin-bottom: 40px;
}}

@media (max-width: 768px) {{
    .{{module-name}}-module {{
        padding: 40px 0;
    }}
    
    .{{module-name}}-module .module-title {{
        font-size: 28px;
    }}
}}
```

## æˆªå›¾å‚è€ƒ

è¯·æŸ¥çœ‹ `output/screenshots/` ç›®å½•ä¸‹çš„åˆ†å—æˆªå›¾ï¼š
{screenshot_list}

**é‡è¦**ï¼šè¯·ä»æˆªå›¾ä¸­æå–å®é™…çš„æ–‡å­—å†…å®¹ä½œä¸ºé»˜è®¤æ•°æ®ï¼Œä¸è¦ä½¿ç”¨ç©ºå­—ç¬¦ä¸²æˆ–æ— æ„ä¹‰çš„å ä½ç¬¦ã€‚

---

## ğŸ¯ æ¨èè¾“å‡ºæ–¹å¼ï¼šWordPress é¡µé¢æ¨¡æ¿

### é¡µé¢æ¨¡æ¿ç»“æ„

è¯·ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„ WordPress é¡µé¢æ¨¡æ¿æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰æ¨¡å—ï¼š

**æ–‡ä»¶ä½ç½®**: `wp-content/themes/{{theme-name}}/page-templates/template-{{page-name}}.php`

### é¡µé¢æ¨¡æ¿ä»£ç ç¤ºä¾‹

```php
<?php
/**
 * Template Name: {{Page Name}} é¡µé¢æ¨¡æ¿
 * Description: å…‹éš†è‡ª {{source_url}} çš„é¡µé¢æ¨¡æ¿
 */

if (!defined('ABSPATH')) {{
    exit;
}}

get_header();
?>

<main class="page-{{page-slug}}">

    <!-- ========== Section 1: Hero ========== -->
    <section class="hero-section">
        <div class="elementor-container">
            <?php
            $hero_title = 'ä»æˆªå›¾æå–çš„å®é™…æ ‡é¢˜';
            $hero_subtitle = 'ä»æˆªå›¾æå–çš„å‰¯æ ‡é¢˜å†…å®¹';
            $hero_button_text = 'Quick Quote';
            $hero_button_url = '#contact';
            ?>
            <div class="hero-content">
                <h1><?php echo esc_html($hero_title); ?></h1>
                <p class="hero-subtitle"><?php echo esc_html($hero_subtitle); ?></p>
                <a href="<?php echo esc_url($hero_button_url); ?>" class="btn btn-primary">
                    <?php echo esc_html($hero_button_text); ?>
                </a>
            </div>
            <div class="hero-image">
                <img src="https://placehold.co/800x600/e0e0e0/666?text=Hero+Image" alt="Hero Banner">
            </div>
        </div>
    </section>

    <!-- ========== Section 2: Product Grid ========== -->
    <section class="product-grid-section">
        <div class="elementor-container">
            <?php
            $section_title = 'ä»æˆªå›¾æå–çš„æ ‡é¢˜';
            $products = array(
                array(
                    'title' => 'äº§å“æ ‡é¢˜1',
                    'description' => 'äº§å“æè¿°å†…å®¹...',
                    'image' => 'https://placehold.co/400x300/e0e0e0/666?text=Product+1'
                ),
                array(
                    'title' => 'äº§å“æ ‡é¢˜2',
                    'description' => 'äº§å“æè¿°å†…å®¹...',
                    'image' => 'https://placehold.co/400x300/e0e0e0/666?text=Product+2'
                ),
                // æ›´å¤šäº§å“...
            );
            ?>
            <h2 class="section-title"><?php echo esc_html($section_title); ?></h2>
            <div class="products-grid">
                <?php foreach ($products as $product) : ?>
                <div class="product-card">
                    <img src="<?php echo esc_url($product['image']); ?>" alt="<?php echo esc_attr($product['title']); ?>">
                    <h3><?php echo esc_html($product['title']); ?></h3>
                    <p><?php echo esc_html($product['description']); ?></p>
                </div>
                <?php endforeach; ?>
            </div>
        </div>
    </section>

    <!-- ç»§ç»­æ·»åŠ å…¶ä»– sections... -->

</main>

<?php get_footer(); ?>
```

### é…å¥— CSS æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**: `wp-content/themes/{{theme-name}}/assets/css/template-{{page-name}}.css`

```css
/* ========== Page Template: {{Page Name}} ========== */

.page-{{page-slug}} {{
    /* é¡µé¢å…¨å±€æ ·å¼ */
}}

/* Hero Section */
.hero-section {{
    padding: 80px 0;
    background: #f8f8f8;
}}

.hero-section .elementor-container {{
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
    display: flex;
    align-items: center;
    gap: 40px;
}}

.hero-content {{
    flex: 1;
}}

.hero-content h1 {{
    font-size: 48px;
    font-weight: 700;
    color: #333;
    margin-bottom: 20px;
}}

/* Product Grid Section */
.product-grid-section {{
    padding: 80px 0;
    background: #fff;
}}

.products-grid {{
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
}}

.product-card {{
    background: #fff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}}

/* å“åº”å¼ */
@media (max-width: 1024px) {{
    .products-grid {{
        grid-template-columns: repeat(2, 1fr);
    }}
}}

@media (max-width: 768px) {{
    .hero-section .elementor-container {{
        flex-direction: column;
    }}
    
    .products-grid {{
        grid-template-columns: 1fr;
    }}
    
    .hero-content h1 {{
        font-size: 32px;
    }}
}}
```

### åœ¨ functions.php ä¸­æ³¨å†Œæ ·å¼

```php
// åœ¨ functions.php ä¸­æ·»åŠ 
function enqueue_page_template_styles() {{
    if (is_page_template('page-templates/template-{{page-name}}.php')) {{
        wp_enqueue_style(
            'template-{{page-name}}-style',
            get_template_directory_uri() . '/assets/css/template-{{page-name}}.css',
            array(),
            '1.0.0'
        );
    }}
}}
add_action('wp_enqueue_scripts', 'enqueue_page_template_styles');
```

---

## ä½¿ç”¨æ–¹å¼

ç”Ÿæˆä»£ç åï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤åœ¨ WordPress ä¸­åˆ›å»ºé¡µé¢ï¼š

1. å°† PHP æ¨¡æ¿æ–‡ä»¶æ”¾å…¥ `wp-content/themes/your-theme/page-templates/` ç›®å½•
2. å°† CSS æ–‡ä»¶æ”¾å…¥ `wp-content/themes/your-theme/assets/css/` ç›®å½•
3. åœ¨ `functions.php` ä¸­æ·»åŠ æ ·å¼æ³¨å†Œä»£ç 
4. WordPress åå° â†’ é¡µé¢ â†’ æ–°å»ºé¡µé¢
5. åœ¨é¡µé¢å±æ€§ä¸­é€‰æ‹© **"{{Page Name}} é¡µé¢æ¨¡æ¿"**
6. å‘å¸ƒé¡µé¢

---

## è¾“å‡ºè¦æ±‚

è¯·ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

1. **é¡µé¢æ¨¡æ¿ PHP æ–‡ä»¶**: `template-{{page-name}}.php`
   - åŒ…å«æ‰€æœ‰ sections
   - æ¯ä¸ª section ä½¿ç”¨ä»æˆªå›¾æå–çš„çœŸå®å†…å®¹ä½œä¸ºé»˜è®¤æ•°æ®
   - å›¾ç‰‡ä½¿ç”¨ placehold.co å ä½ç¬¦

2. **CSS æ ·å¼æ–‡ä»¶**: `template-{{page-name}}.css`
   - å®Œæ•´çš„å“åº”å¼è®¾è®¡
   - ä½¿ç”¨åˆ†æä¸­æå–çš„é¢œè‰²ã€å­—ä½“ã€é—´è·å‚æ•°

3. **functions.php ä»£ç ç‰‡æ®µ**: æ³¨å†Œæ ·å¼çš„ä»£ç 
"""


def get_module_types_hint():
    """è·å–æ¨¡å—ç±»å‹æç¤º"""
    hints = []
    for key, desc in MODULE_TYPES.items():
        hints.append(f"- {key}: {desc}")
    return "\n".join(hints)


def format_vision_prompt(position: str, dom_hint: str = "") -> str:
    """æ ¼å¼åŒ–è§†è§‰åˆ†æprompt"""
    return VISION_ANALYZE_PROMPT.format(
        position=position,
        dom_hint=dom_hint,
        module_types_hint=get_module_types_hint()
    )


def format_cursor_prompt(url: str, title: str, total_height: int, 
                         sections_analysis: str, design_tokens: str,
                         screenshot_list: str) -> str:
    """æ ¼å¼åŒ–Cursor prompt"""
    return CURSOR_PROMPT_TEMPLATE.format(
        url=url,
        title=title,
        total_height=str(total_height),  # ç¡®ä¿æ˜¯å­—ç¬¦ä¸²
        sections_analysis=sections_analysis,
        design_tokens=design_tokens,
        screenshot_list=screenshot_list
    )
